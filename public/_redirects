# Cloudflare Pages Redirects
# https://developers.cloudflare.com/pages/configuration/redirects/
# This file mirrors next.config.ts redirects for CDN-level handling

# Host normalization: force non-www (canonical host)
https://www.kellysappliancerepair.com/* https://kellysappliancerepair.com/:splat 301
http://www.kellysappliancerepair.com/* https://kellysappliancerepair.com/:splat 301

# Redirect legacy mobile subdomain to primary domain (preserve path/query)
https://mobile.kellysappliancerepair.com/* https://kellysappliancerepair.com/:splat 301
http://mobile.kellysappliancerepair.com/* https://kellysappliancerepair.com/:splat 301

# Clean up a common placeholder URL people sometimes try to visit directly
/$1 / 301

# Service page redirects
/appliance-repair/* /services/:splat 301
/locations/* /service-locations/:splat 301
/about /about-us 301
/brands/* /authorized-service 301

# Location page redirects (WordPress pattern: /appliance-repair-[city])
# All legacy city URLs redirect to new /service-locations/* structure (GSC shows 0 backlinks/0 clicks)
/appliance-repair-petaluma /service-locations/petaluma 301
/appliance-repair-santa-rosa /service-locations/santa-rosa 301
/appliance-repair-san-rafael /service-locations/san-rafael 301
/appliance-repair-sonoma /service-locations/sonoma 301
/appliance-repair-sebastopol /service-locations/sebastopol 301
/appliance-repair-napa /service-locations/napa 301
/appliance-repair-novato /service-locations/novato 301
/appliance-repair-windsor /service-locations/windsor 301
/appliance-repair-marin-county /service-locations/marin-county 301
/appliance-repair-rohnert-park /service-locations/rohnert-park 301

# Blog post redirects (WordPress posts at root level)
/why-is-my-dryer-taking-so-long-to-dry-clothes /blog/why-is-my-dryer-taking-so-long-to-dry-clothes 301
/common-dishwasher-problems-and-how-to-prevent-them /blog/common-dishwasher-problems-and-how-to-prevent-them 301
/what-is-the-best-way-to-clean-stainless-steel-appliances /blog/what-is-the-best-way-to-clean-stainless-steel-appliances 301
/why-you-should-call-a-professional-to-repair-your-appliances /blog/why-you-should-call-a-professional-to-repair-your-appliances 301
/top-5-tips-for-buying-a-home-appliance /blog/top-5-tips-for-buying-a-home-appliance 301
/avoid-appliance-repair-scams /blog/what-is-the-best-way-to-avoid-appliance-repair-scams 301

# Blog index redirect
/resources/blog /blog 301
/resources/blog/ /blog 301
/resources/blog-2 /blog 301
/resources/blog-2/ /blog 301
/resources/blog-2/* /blog 301

# Scheduler confirmation redirect (old path)
/resources/scheduler-confirmation /scheduler-confirmation 301
/resources/scheduler-confirmation/ /scheduler-confirmation 301

# Service area redirect (old WordPress page)
/service-area /service-locations 301
/service-area/ /service-locations 301

# Authorized service sub-paths redirects
/authorized-service/refrigerator-repair /services/refrigerator-repair 301
/authorized-service/washer-dryer-repair /services/washer-dryer-repair 301
/authorized-service/range-oven-repair /services/oven-repair 301
/authorized-service/dishwasher-repair /services/dishwasher-repair 301

# Additional blog post redirects
/what-is-the-best-way-to-clean-a-stainless-steel-fridge /blog/what-is-the-best-way-to-clean-stainless-steel-appliances 301

# WordPress legacy paths
/portfolio-items / 301
/contact-test /contact 301
/contact-test/ /contact 301
/wp-json/* / 301
/index.php / 301
/author/* /about-us 301
/fusion_tb_category/* / 301

# Other legacy/removed URLs seen in Google Search Console
/faq-items /resources 301
/faq-items/ /resources 301
/service-locations/ross /service-locations/marin-county 301
/service-locations/ross/ /service-locations/marin-county 301

# Cloudflare email protection URL sometimes appears in crawl logs as a bare path.
# If you enable Cloudflare "Email Address Obfuscation", remove these redirects (they will break the decode script).
/cdn-cgi/l/email-protection / 301
/cdn-cgi/l/email-protection/ / 301

# Canonicalize top-level routes (static export often serves /route.html, so /route/ can 404)
/authorized-service/ /authorized-service 301
/services/ /services 301
/service-locations/ /service-locations 301
/resources/ /resources 301
/contact/ /contact 301
/about-us/ /about-us 301
/pricing/ /pricing 301
/blog/ /blog 301

# Service page redirects (internal redirects)
/services/range-oven-repair /services/oven-repair 301
/services/oven-range-repair /services/oven-repair 301
/services/oven-range-repair/ /services/oven-repair 301

# Design preview test page cleanup
/design-preview / 301
/design-preview/ / 301

# Trailing slash redirects for legacy city URLs (redirect directly to new URLs)
/appliance-repair-petaluma/ /service-locations/petaluma 301
/appliance-repair-santa-rosa/ /service-locations/santa-rosa 301
/appliance-repair-san-rafael/ /service-locations/san-rafael 301
/appliance-repair-sonoma/ /service-locations/sonoma 301
/appliance-repair-sebastopol/ /service-locations/sebastopol 301
/appliance-repair-napa/ /service-locations/napa 301
/appliance-repair-novato/ /service-locations/novato 301
/appliance-repair-windsor/ /service-locations/windsor 301
/appliance-repair-marin-county/ /service-locations/marin-county 301
/appliance-repair-rohnert-park/ /service-locations/rohnert-park 301

# Blog post trailing slash redirects
/common-dishwasher-problems-and-how-to-prevent-them/ /blog/common-dishwasher-problems-and-how-to-prevent-them 301
/why-is-my-dryer-taking-so-long-to-dry-clothes/ /blog/why-is-my-dryer-taking-so-long-to-dry-clothes 301
/what-is-the-best-way-to-clean-stainless-steel-appliances/ /blog/what-is-the-best-way-to-clean-stainless-steel-appliances 301
/why-you-should-call-a-professional-to-repair-your-appliances/ /blog/why-you-should-call-a-professional-to-repair-your-appliances 301
/top-5-tips-for-buying-a-home-appliance/ /blog/top-5-tips-for-buying-a-home-appliance 301
/avoid-appliance-repair-scams/ /blog/what-is-the-best-way-to-avoid-appliance-repair-scams 301

# Authorized service trailing slash redirects
/authorized-service/dishwasher-repair/ /services/dishwasher-repair 301
/authorized-service/refrigerator-repair/ /services/refrigerator-repair 301
/authorized-service/washer-dryer-repair/ /services/washer-dryer-repair 301
/authorized-service/range-oven-repair/ /services/oven-repair 301

# Other trailing slash redirects
/portfolio-items/ / 301
/services/range-oven-repair/ /services/oven-repair 301

# WordPress sitemap redirect
/sitemap_index.xml /sitemap.xml 301
